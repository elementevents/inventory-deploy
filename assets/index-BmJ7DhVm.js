import{c as u,j as i,x as d,d as p,H as f}from"./index-CJiv-3wc.js";import{a as g,D as x}from"./constants-CRsvxbNR.js";import{e as h}from"./exportAllServerSide-BTqq3Xc6.js";import{G as y}from"./GenericDataDisplay-BIC15-bw.js";import{D as S,u as C,s as A,a as D}from"./tableSortMapper-BiGW34eV.js";import{u as E}from"./useUnits-ewJT2W_n.js";import{D as j}from"./DataTableRowActions-DscIse1c.js";import"./skeleton-DqkA8ofe.js";import"./download-Bq5cVHz3.js";import"./circle-plus-BUaaUO2Z.js";import"./units-B_su8Ah7.js";/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=u("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),v=s=>{const n=[{accessorKey:"name",header:({column:e})=>i.jsx(S,{column:e,title:"Name"}),cell:({row:e})=>{const o=e.original.is_active,a=e.original.is_default;return i.jsxs("div",{className:d("font-medium flex items-center",{"opacity-30":!o}),children:[e.getValue("name"),a&&i.jsx("span",{className:"ml-1 text-white rounded-full p-1 bg-accent-elementEventsSolutions ",children:i.jsx(k,{className:"w-3.5 h-3.5",strokeWidth:3})})]})}}];return["admin"].includes(s)&&n.push({id:"actions",cell:({row:e})=>i.jsx(j,{editHref:`/units/${e.original.id}`,row:e})}),n};function G(){const{user:s}=p(),{filters:n,setFilters:e}=C(f.id),{data:o,isLoading:a}=E(n),r={pageIndex:n.pageIndex??x,pageSize:n.pageSize??g},c=A(n.sortBy);if(s===null)return i.jsx("div",{});const l=["admin"].includes(s.role);return i.jsx(y,{addHref:"/units/new",addLabel:"Add Unit",allowCreation:l,allowExport:l,columns:v(s.role),data:o,description:"Manage your units.",filterPlaceholder:"Search units...",isLoading:a,searchValue:n.q??"",onExportClick:async()=>h("units"),onSearchFieldChange:t=>{e({q:t,pageIndex:0})},onSortingChange:t=>{const m=typeof t=="function"?t(c):t;return e({sortBy:D(m)})},pagination:r,paginationOptions:{onPaginationChange:t=>{e(typeof t=="function"?t(r):t)},rowCount:o==null?void 0:o.total},sorting:c,title:"Units"})}export{G as component};
