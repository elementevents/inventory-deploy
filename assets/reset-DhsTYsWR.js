import{n as d,r as u,b as x,j as e,F as h,o as p,p as j,q as f,t as g,I as w,v,s as b,m as F,w as C}from"./index-8T-MMjvt.js";import{t as S}from"./zod-LsiannB8.js";import{B as y}from"./Button-e1CZX-DS.js";import{C as E,a as N,b as I,d as R,c as l,e as q}from"./card-aaJuluzD.js";function D(){const a=d({defaultValues:{email:""},resolver:S(C)}),[t,i]=u.useState(null),{toast:n}=x();async function c({email:r}){try{const{error:s}=await b.auth.resetPasswordForEmail(r,{redirectTo:"https://inventory.elementeventscanada.com/#/account/reset-password"});if(s)throw s;i(r)}catch(s){let o="Something went wrong!";F(s)&&(o=s.message),n({title:"Failed to login!",description:o,variant:"destructive"})}}const{formState:{isSubmitting:m}}=a;return e.jsx("div",{className:"relative flex min-h-screen flex-col",children:e.jsx("div",{className:"w-full h-screen flex items-center justify-center px-4",children:e.jsxs(E,{className:"w-full max-w-sm",children:[e.jsxs(N,{children:[e.jsx(I,{className:"text-2xl",children:e.jsx("img",{alt:"Element Events Solutions",src:"/logo.svg"})}),e.jsx(R,{children:!t&&`Enter your email address. If an account exists,
                            you'll receive an email with a password reset link
                            soon.`})]}),t?e.jsx(l,{children:e.jsxs("p",{children:["Request received successfully! If the email"," ",e.jsx("span",{className:"font-bold",children:t})," ","exists, you'll receive an email with a reset link soon."]})}):e.jsx(h,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(c),children:[e.jsx(l,{className:"grid gap-4",children:e.jsx("div",{className:"grid gap-2",children:e.jsx(p,{control:a.control,name:"email",render:({field:r})=>e.jsxs(j,{children:[e.jsx(f,{children:"Email"}),e.jsx(g,{children:e.jsx(w,{autoComplete:"email",type:"email",placeholder:"m@example.com",required:!0,...r})}),e.jsx(v,{})]})})})}),e.jsx(q,{children:e.jsx(y,{className:"w-full",isLoading:m,label:"Reset password",loadingLabel:"Resetting password...",type:"submit"})})]})})]})})})}export{D as component};
