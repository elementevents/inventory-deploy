import{n as x,aQ as h,b as j,u as f,j as s,F as g,o as n,p as d,q as i,t as l,I as c,v as m,s as C,m as b}from"./index-D8216wL9.js";import{t as v}from"./zod-Co59NxBk.js";import{B as F}from"./Button-BP0rxxDZ.js";import{C as y,a as N,b as P,d as S,c as E,e as q}from"./card-CtpbJhW0.js";function B(){const e=x({defaultValues:{password:"",confirmPassword:""},resolver:v(h)}),{toast:o}=j(),p=f();async function u({password:r}){try{const{error:a}=await C.auth.updateUser({password:r});if(a)throw a;p({to:"/"}),o({title:"Password updated successfully!",description:"You can now use your new password to log in."})}catch(a){let t="Something went wrong!";b(a)&&(t=a.message),o({title:"Failed to update password!",description:t,variant:"destructive"})}}const{formState:{isSubmitting:w}}=e;return s.jsx("div",{className:"relative flex flex-col",children:s.jsx("div",{className:"w-full flex items-center justify-center px-4 py-10",children:s.jsxs(y,{className:"w-full max-w-sm",children:[s.jsxs(N,{children:[s.jsx(P,{className:"text-2xl",children:"Reset Password"}),s.jsx(S,{children:"Enter your new password below."})]}),s.jsx(g,{...e,children:s.jsxs("form",{onSubmit:e.handleSubmit(u),children:[s.jsxs(E,{className:"grid gap-4",children:[s.jsx("div",{className:"grid gap-2",children:s.jsx(n,{control:e.control,name:"password",render:({field:r})=>s.jsxs(d,{children:[s.jsx(i,{children:"New Password"}),s.jsx(l,{children:s.jsx(c,{autoComplete:"new-password",type:"password",placeholder:"Enter new password",required:!0,...r})}),s.jsx(m,{})]})})}),s.jsx("div",{className:"grid gap-2",children:s.jsx(n,{control:e.control,name:"confirmPassword",render:({field:r})=>s.jsxs(d,{children:[s.jsx(i,{children:"Confirm Password"}),s.jsx(l,{children:s.jsx(c,{autoComplete:"new-password",type:"password",placeholder:"Confirm new password",required:!0,...r})}),s.jsx(m,{})]})})})]}),s.jsx(q,{children:s.jsx(F,{className:"w-full",isLoading:w,label:"Update password",loadingLabel:"Updating password...",type:"submit"})})]})})]})})})}export{B as component};
