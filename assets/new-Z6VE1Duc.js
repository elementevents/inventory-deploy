import{z as x,u as j,b as h,m as p,ab as f,n as g,ac as w,j as e,F as y,o as a,p as t,q as l,t as n,I as i,ad as u,v as o}from"./index-Dkc07M4j.js";import{t as b}from"./zod-BKxH1BZR.js";import{B as v}from"./Button-Y_ZMQhDL.js";import{u as F}from"./useMutation-Jv6Aki4d.js";import{q as N}from"./constants-BmjxfpbN.js";import{c as q}from"./users-Cq0x5hhn.js";function S(){const d=x(),r=j(),{toast:c}=h();return F({mutationFn:s=>q(s),onSuccess:()=>{d.invalidateQueries({queryKey:N.users.all}),r({to:"/users"}),c({title:"User created successfully!",description:"The user has been created."})},onError:async s=>{let m="Something went wrong!";p(s)?m=s.message:s instanceof f?m=(await s.context.json()).message:s instanceof Error&&(m=s.message),c({title:"Failed to create user!",description:m,variant:"destructive"})}})}function A(){const d=S(),r=g({defaultValues:{email:"",employee_number:"",first_name:"",last_name:"",password:""},resolver:b(w)});async function c(s){await d.mutateAsync(s)}return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col space-y-1.5",children:[e.jsx("h3",{className:"text-2xl font-semibold leading-none tracking-tight",children:"Add User"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a new user."})]})}),e.jsx("div",{children:e.jsx(y,{...r,children:e.jsxs("form",{className:"max-w-2xl",onSubmit:r.handleSubmit(c),children:[e.jsx("div",{className:"w-full grid gap-2",children:e.jsx(a,{control:r.control,name:"employee_number",render:({field:s})=>e.jsxs(t,{className:"w-full",children:[e.jsx(l,{children:"Employee number"}),e.jsx(n,{children:e.jsx(i,{placeholder:"Employee number",required:!0,...s})}),e.jsx(u,{children:"Must be unique."}),e.jsx(o,{})]})})}),e.jsx("div",{className:"w-full grid gap-2 mt-4",children:e.jsx(a,{control:r.control,name:"email",render:({field:s})=>e.jsxs(t,{className:"w-full",children:[e.jsx(l,{children:"Email"}),e.jsx(n,{children:e.jsx(i,{placeholder:"Email",type:"email",required:!0,...s})}),e.jsx(u,{children:"Must be unique."}),e.jsx(o,{})]})})}),e.jsx("div",{className:"w-full grid gap-2 mt-4",children:e.jsx(a,{control:r.control,name:"password",render:({field:s})=>e.jsxs(t,{className:"w-full",children:[e.jsx(l,{children:"Password"}),e.jsx(n,{children:e.jsx(i,{placeholder:"Password",type:"password",required:!0,...s})}),e.jsx(o,{})]})})}),e.jsx("div",{className:"w-full grid gap-2 mt-4",children:e.jsx(a,{control:r.control,name:"first_name",render:({field:s})=>e.jsxs(t,{className:"w-full",children:[e.jsx(l,{children:"First name"}),e.jsx(n,{children:e.jsx(i,{placeholder:"First name",required:!0,...s})}),e.jsx(o,{})]})})}),e.jsx("div",{className:"w-full grid gap-2 mt-4",children:e.jsx(a,{control:r.control,name:"last_name",render:({field:s})=>e.jsxs(t,{className:"w-full",children:[e.jsx(l,{children:"Last name"}),e.jsx(n,{children:e.jsx(i,{placeholder:"Last name",required:!0,...s})}),e.jsx(o,{})]})})}),e.jsx(v,{className:"w-full mt-8",isLoading:r.formState.isSubmitting,label:"Save",loadingLabel:"Saving...",type:"submit"})]})})})]})}export{A as component};
