import{z as u,u as x,b as h,m as f,n as j,as as g,j as e,F as p,o as n,p as i,q as l,t as m,I as c,v as d}from"./index-CcPo3f9H.js";import{t as S}from"./zod-C6DuHt7F.js";import{B as v}from"./Button-zpjn9-p1.js";import{u as F}from"./useMutation-DOzOABS6.js";import{q as b}from"./constants-CRsvxbNR.js";import{c as y}from"./stores-B3IE6u9Z.js";function N(){const a=u(),t=x(),{toast:r}=h();return F({mutationFn:s=>y(s),onSuccess:()=>{a.invalidateQueries({queryKey:b.stores.all}),t({to:"/stores"}),r({title:"Store created successfully!",description:"The store has been created."})},onError:s=>{let o="Something went wrong!";(f(s)||s instanceof Error)&&(o=s.message),r({title:"Failed to create store!",description:o,variant:"destructive"})}})}function L(){const a=N(),t=j({defaultValues:{address:"",name:""},resolver:S(g)});async function r(s){await a.mutateAsync(s)}return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col space-y-1.5",children:[e.jsx("h3",{className:"text-2xl font-semibold leading-none tracking-tight",children:"Add Store"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a new store."})]})}),e.jsx("div",{children:e.jsx(p,{...t,children:e.jsxs("form",{className:"max-w-2xl",onSubmit:t.handleSubmit(r),children:[e.jsx("div",{className:"w-full grid gap-2",children:e.jsx(n,{control:t.control,name:"name",render:({field:s})=>e.jsxs(i,{className:"w-full",children:[e.jsx(l,{children:"Name"}),e.jsx(m,{children:e.jsx(c,{placeholder:"Store name",required:!0,...s})}),e.jsx(d,{})]})})}),e.jsx("div",{className:"w-full grid gap-2 mt-4",children:e.jsx(n,{control:t.control,name:"address",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Address"}),e.jsx(m,{children:e.jsx(c,{placeholder:"Store address",required:!0,...s})}),e.jsx(d,{})]})})}),e.jsx(v,{className:"w-full mt-8",isLoading:t.formState.isSubmitting,label:"Save",loadingLabel:"Saving...",type:"submit"})]})})})]})}export{L as component};
